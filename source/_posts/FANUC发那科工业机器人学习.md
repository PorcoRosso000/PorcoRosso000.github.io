---
title: FANUC发那科工业机器人学习
typora-root-url: FANUC发那科工业机器人学习
keywords: 'FANUC,发那科'
tags: FANUC
categories: FANUC
description: FANUC发那科工业机器人学习
abbrlink: cd56c0ab
date: 2024-10-30 20:15:16
photos:
---

FANUC发那科工业机器人学习

<!--more-->

------

## FANUC发那科机器人项目的实施流程

```
	开始
		-->项目分析
		-->是否进行了机器人组装
		-->是否进行了系统配置
		-->是否建立了坐标系
		-->是否进行了I/O信号配置
		-->是否编程
		-->是否自动运行
		-->结束
```



## 安全启动流程

检查接线是否正确

启动控制柜模式切换到T1

有效开关拨动至ON

## FANUC机器人本体组成

工业机器人的机械主体，主要由机械臂、驱动装置、传动装置和内部传感器组成。对于六轴机器人而言，其机械臂主要包括基座、腰部、手臂(大臂和小臂)和手腕

## 控制器（控制柜）

### 控制器组成

操作面板

断路器

连接电缆

散热风扇

usb端口

### 断路器

ON
上电，无法打开控制器柜门

OFF
将其旋转至“OFF”，并继续逆时针转动一段距离，才能打开柜门，此时无法启动控制器

### 操作面板

**左侧旋钮模式开关**

模式：

T1模式：手动控制，机器人只能低速运行，小于250mm/s的速度

T2模式：手动控制，机器人可以全速运行

AUTO：成产状态下使用

**中间是启动开关**

启动当前所选的程序程序启动中亮灯

**右侧是急停按钮**

按下按钮使机器人立即停止。向右旋转急停按钮即可解除按钮锁定

## 示教器

### 示教器的指示灯

POWER
上电指示灯

FAULT
报警指示灯

### 示教器硬件介绍

左上角盘示教器有效开关

右上角是急停按钮

### 安全开关

安全开关(示教器背后黄色按钮)

有三种状态:全松、半按全按 ，半按状态有效，全松和全按时，将无法执行机器人操作

### 按键介绍

按键

![](按键.png)

示教器操作键

![](示教器操作键.png)

示教器应用键

![](示教器应用键.png)

与点动相关按键

![](与点动相关按键.png)

与执行相关按键

![](与执行相关按键.png)

### 设置示教器显示语言

1.按MENU键向下选择SETUP 

2.选择第二栏第二个选项 General 点enter键进入功能

3.选第二个选项按F4在新探窗中选择chinese点enter确定

### 示教器画面

#### 状态窗口

示教器的显示画面的上部窗口，状态窗口，上面显示8个软件LED、报警显示、倍率值。带有图标的显示表示ON 不带图标的显示表示OFF

**状态显示及含义**

处理
机器人正在进行某项作业

单段
处在单段运转模式下

暂停
按下了HOLD(暂停)按钮，或输入了HOLD信号

异常
发生了异常

运转
应用程序固有的LED

测试中
应用程序固有的LED

I/O
应用程序固有的LED

实行
正在执行程序

#### MENU菜单含义

**MENU菜单1**

1.实用工具:使用各类机器人功能
2.试运行:进行测试运转的设定
3.手动操作:手动执行宏指令
4.报警:显示发生的报警和过去报警履历以及详细情况
5.I/O:进行各类I0的状态显示
6.设置:进行系统的各种设定
7.文件:进行文件的加载保护
8.用户:在执行消息指令时显示用户消息

**MENU菜单2**

1.一览:显示程序一览画面
2.编辑:进行程序的示教、修改、执行
3.数据:显示数值寄存器、位置寄存器和码垛寄存器的值
4.状态:显示系统的状态
5.4D图形:显示3画面。同时显示现在位置的位置数据
6.系统:进行系统变量的设定、零点标定的设定等
7.用户2:显示从KAREL程序输出的消息
8.浏览器:进行网络上的Web网页的浏览

#### 辅助菜单应用，画面分割

FCTN(辅助)键用来显示辅助菜单

**辅助菜单1**

中止程序:强制结束执行中或暂停中的程序
禁止前进后退:禁止或解除从示教器启动程序
解除等待:跳过当前执行中的等待指令

**辅助菜单2**

简易/全画面切换:用来切换通常的画面菜单和快捷菜单
保存:将与当前显示的画面相关的数据保存在外部存储装置中
打印画面:原样打印当前所显示的画面
打印:用于程序、系统变量的打印
所有的IO仿真解除:解除所有IO信号的仿真设定
重新启动:可以进行再启动(重新启动有三种模式：热启动，冷启动，控制启动)
启用HMI菜单:按下MENU键时，选择是否显示HMI菜单

**辅助菜单3**

更新面板:进行画面的再次显示
诊断记录:发生故障时记录调查用数据(发生故障时请在电源置于OFF前记录下来)
划除诊断记录:删除所记录的调查用数据

DISP键和SHIFT键同时按下就可以分屏

### 查看事件日志

MENU键  选择报警就可以查看日志类型

进入日志后可以按F1键切换其他的日志类型

### 清除报警

使用SHIFT+RESET键清除示教器报警

### 手动操作关节运动

长按COORD键将示教坐标切换至关节

左手按下安全开关，RESET键清除开关时产生的报警信息

按+%增加机器人运动速度，按-%减少机器人的运动速度

长按SHIFT键同时按j1-j6，进行六轴关节运动

### 手动操作直角运动

长按COORD键将示教坐标切换至世界

左手按下安全开关，RESET键清除开关时产生的报警信息

长按SHIFT键同时按XYZ就会就行X轴Y轴和Z轴的相关运动

为什么会出现奇异点？

报警信息显示在奇异点附近报警信息时，就出现奇异点，奇异点出现的原因是4轴轴线和六轴轴线平行时导致的

**出现奇异点如何解决？**

左手按下安全开关，RESET键清除开关时产生的报警信息

长按COORD键将示教坐标切换至关节，将机器人恢复到一个安全位置，再切换到世界，将机器人移动至想要移动到的位置

### 工具坐标系的认识和建立

工具坐标系是表示工具中心和工具姿势的直角坐标系，需要在编程前
先进行自定义。未定义工具坐标系时，将被默认工具坐标系所取代。

注意：工具坐标系是为适应机器人的末端执行机构机构（如机器人夹爪、快换工具等）而专门建立的

**工具坐标系建立**

**三点法**

接近点1
接近点2
接近点3

三点法示教只可以设置工具中心点 ，不可以设置工具位姿

示教时为了正确设定坐标系，应尽量使三个趋近方向各不相同

使用 SHIFT+F5 纪录点

三点设定完成后系统自动计算工具中心点

**六点法**

接近点1
接近点2
接近点3
坐标原点
X方向点
Y方向点

与三点法一样的设定工具中心点，然后设定工具姿势。设定工具姿势时使用直角坐标系进行示教，保持工具姿势不变。

**验证工具坐标系**

```markdown
MENU-->设置-->坐标系-->F3-->工具坐标系-->F5键切换-->输入要验证的工具坐标系编号，然后手动控制工具xyz三方向移动还有第六轴的xyz方向移动
```

**工具坐标系建立步骤**

**准备工作**

坐标系标定工具安装在法兰盘末端
选取基础模块的尖端点作为固定点

```
MENU-->设置-->坐标系-->F3-->工具坐标系-->移动光标至想要建立坐标系的编号-->F2-->六点法XY-->移动光标至接近点1-->按SELECT-->选择程序以第一种姿态移动到接近点-->MENU-->设置-->使用 SHIFT+F5 纪录点
接近点1接近点2接近点3使用一样的方法记录点
坐标原点可以设置成接近点3
X方向点在坐标原点基础上按SHIFT+ENTER然后SHIFT+X在X轴正方向移动-->使用 SHIFT+F5 纪录点-->移动光标至坐标原点-->按SHIFT+F4
移动到坐标原点-->光标移动至Y方向点定点和X方向点一样的操作，显示以计算新位置表示设置完成
```

### 用户坐标系的认识和建立

用户坐标系是用户对每个作业空间进行定义的直角坐标系。用户坐标
系在尚未设定时，将被世界坐标系所取代。

**设定方法**

**三点法**
示教3点，即坐标系的原点、X轴方向的1点、XY平面上的1点（Y轴方向的1点）进行示教。

不可改变机器人的姿态
Y方向点表示在XOY平面上一点

**四点法**
示教4点，即平行于坐标系的X轴的始点、X轴方向的1点、XY平面上的1点（Y轴方向的1点）、坐标系的原点进行示教。

**直接输入法**
直接输入相对世界坐标系的用户坐标系原点的位置x、y、2、和世界坐标系的X轴、Y轴、Z轴周围的回转角w、p、r、的值。

**验证用户坐标系**

```
MENU-->设置-->坐标系-->F3-->用户坐标系-->F5键切换-->输入要验证的用户坐标系编号-->ENTER-->长按COORD键将示教坐标切换至用户，然后手动控制工具xyz三方向移动还有第六轴的xyz方向移动
```

**用户坐标系建立步骤**

**准备工作**

坐标系标定工具安装在法兰盘末端
选取基础模块用于建立用户坐标系

```
MENU-->设置-->坐标系-->F3-->用户坐标系-->移动光标至想要建立坐标系的编号-->F2-->三点法-->选择坐标原点-->SELECT选择程序-->ENTER-->光标移动至第一行-->FWD启动程序-->ENTER-->使用SHIFT+F5 纪录点
X轴方向点、Y轴方向点操作一样
```

### IO种类和类别

**I/O种类**

```markdown
通用I/O
	数字I/0
		属通用数字信号，从外围设备通过处理，分为数字量输入DI[i]和数字量输出DO[i]，有ON和OFF
	组I/O
		分为GI[i] /GO[i]，信号的值用数值(10/16进制数)来表达，转变或逆转变为2进制数后通过信号线交换数据。
	模拟I/O
		分为模拟量输入AI [i] 和模拟量输出AO[i]，进行读写时，将模拟输入/输出电压值转化为数字值

专用I/0
	机器人I/O
		机器人I/O是经由机器人，作为末端执行器I/O被使用的机器人数字信号。分为机器人输入信号RI[i]和机器人输出信号RO[i]。
	外围设备IO
		外围设备I/O(UI/UO)，是在系统中已经确定了其用途的专用信号。分为外围设备输入信号UI [i]和外围设备输出信号UO[i]。
	操作面板I/O	
		操作面板I/O,是用来进行操作面板操作箱的按钮和LED状态数据交换的数字专用信号。分为输入信号SI[i]和输出信号sO[i].
```

**分配方法**

**概念**

机架:指IO模块的种类
48-R-30IB Mate的主板(CRMA15、CRMA16)

![](发那科机器人的机架号号码.png)

插槽:指构成机架的I/O模块的编号
IO连接设备从机接口、R-30i Mate 的主板(CRMA15、CRMA16)中，改值始终为1

**分配**

在进行 I/O 分配时，需要设定机架号、插槽和开始点。 

```
MENU-->I/O-->数字-->F3切换数字输入和输出-->F2进入分配界面—-->状态显示PEND的时候表示分配成功，重启添加修改
```

## 发那科机器人添加外部轴



### FSSB路径

#### **FSSB的作用**

- **数据传输**：传输伺服控制指令、编码器反馈数据等。
- **设备连接**：串联机器人的伺服放大器、电机、I/O模块等。
- **实时性**：高实时性通信，确保运动控制的精度和同步性。

------

#### **FSSB路径的组成**

FSSB路径通常包括以下硬件组件：

- **控制柜（如R-30iB）**：主控制器生成控制信号。
- **伺服放大器（Servo Amplifier）**：驱动伺服电机。
- **伺服电机（Servo Motor）**：内置编码器反馈位置/速度。
- **终端电阻（Terminator）**：用于阻抗匹配，防止信号反射。

------

#### **FSSB路径的典型连接拓扑**

```
控制柜（Master） → 第1轴伺服放大器 → 第2轴伺服放大器 → … → 末端放大器（需终端电阻）
```

- **串联结构**：FSSB采用菊花链（Daisy Chain）方式连接，所有设备通过光缆或电缆串联。
- **终端电阻**：路径末端的放大器需安装终端电阻（通常为跳线或拨码开关设置）。



#### **FSSB路径设置步骤**

**(1) 硬件连接**

- 使用专用光缆（如A660-8001-T010）或电缆连接控制柜与放大器。
- 确保终端电阻正确配置（末端放大器上的终端电阻开关设为ON）。

**(2) 软件配置**

1. **进入FSSB设定界面**：
   - 示教器上依次选择：`MENU → 系统 → 配置 → FSSB`。
2. **设定放大器编号（Axis No.）**：
   - 为每个伺服放大器分配轴号（如1~6轴）。
3. **电机ID设置**：
   - 确保电机ID与放大器编号匹配（需与硬件连接顺序一致）。
4. **保存并重启**：
   - 保存配置后重启控制器生效。

------

### 在FANUC机器人系统中，确定外部轴抱闸号（Brake Number）的步骤如下：

------

**1. 确认外部轴类型**

- **伺服电机型外部轴**：通常需要配置抱闸信号（如导轨、变位机等）。
- **气动/液压型外部轴**：可能无需抱闸信号。

------

**2. 查看硬件连接**

- **抱闸线连接端口**：外部轴的抱闸线通常连接到FANUC控制柜的 **CRR65A/B**（伺服放大器）或 **I/O模块**（如数字输出DO）。
- **放大器编号**：外部轴对应的伺服放大器编号（如1~3轴是放大器1，4~6轴是放大器2，依此类推）。

------

**3. 系统参数配置**

- **抱闸信号分配**：
  1. 进入 **MENU → 6. SYSTEM → F1 [TYPE] → Brake**。
  2. 找到外部轴对应的抱闸参数（通常为 **BRKXXX**，XXX代表轴号，如BRK007表示第7轴）。
  3. 抱闸号一般与 **轴号+偏移量** 相关（例如第7轴抱闸号可能是7或6，取决于系统配置）。
- **I/O分配（如使用DO）**：
  1. 进入 **MENU → I/O → Digital**。
  2. 查看外部轴抱闸对应的DO地址（如DO[102]），需与电气图纸一致。

------

**4. 参考外部轴配置文件**

- 在 **SYSTEM → CONFIG** 中检查外部轴的机械编号（Mech No.）和组号（Group No.）。
- 抱闸号通常与机械编号或组内轴顺序相关（例如组2的第1轴抱闸号可能是5）。

------

**5. 测试验证**

- 手动释放抱闸（通过I/O或参数强制）观察外部轴是否可自由移动。
- 使用 **MCR.\*MCR\*.BRK_RELEASE** 系统变量监控抱闸状态。

------

**常见示例**

- **第7轴（单外部轴）**：
  - 抱闸参数：`BRK007`（值通常为7）。
  - 对应DO信号：`DO[102]`（需根据实际配置确认）。
- **第7~9轴（组2）**：
  - 抱闸号可能为5、6、7（与组内轴顺序相关）。







### 外部轴   单机+一轴变位机

轴控制卡--FSSB路径1--1号放大器（焊接机器人）--2号放大器（电机）

1.设定参数

| 运动组 | FSSB路径 | FSSB第1路径总轴数 | 硬件开始轴 | 放大器号 | 抱闸号 |
| ------ | -------- | ----------------- | ---------- | -------- | ------ |
| 1      | 1        | 无                | 1          | 1        | 1      |
| 2      | 1        | 无                | 7          | 2        | 3      |

注释：运动组2的抱闸号取决于抱闸线的连接

2.需要添加的软件

| Basic Positioner   | A05B-2500-H896 |
| ------------------ | -------------- |
| Multi-Group Motion | A05B-2500-H896 |

3.步骤

```markdown
执行控制启动操作
	PREV（返回）和NEXT键 的同时接通电源
	选择Controlled start 进入控制启动

按下MENUS 选择 MAINTENANCE（机器人设定）

按下F4 MANUAL（手动），进入FSSB路径设定界面
	由于组2走的是第一路径，输入当前默认值为1

按下enter进入轴开始号设定界面
	第一组 看机器人是几轴机器人 如果是6轴，第二组就设置成7
按enter 进入运动学类型设置界面
	如果知道定位器在各轴间的偏置量的情况下选择1（运动学已知），不清楚的情况下，选择2（运动学未知），一般选2
按enter进入设定界面
	要显示或者修改输入1
	要添加轴，输入2
	要删除轴输入3
	退出选择4
要添加一个外部轴，输入2，按enter进入马达设置界面

一般情况下选择1:standard method 按enter进入马达设置界面，（如果没有当前匹配的马达型号，输入0.next.page,继续选择）这里以aiF22/3000为例

输入0.next.page 按enter进入

输入105:aiF22，按enter进入马达转速选择界面

输入2./3000，按enter进入方法器电流选择界面

输入7:80A，按enter进入放大器编号设定界面

输入2，按enter进入放大器种类设定界面
	1为机器人六轴放大器
	2为外部轴放大器
输入2，按enter进入轴运动类型设置界面
	1直线运动
	2旋转运动
```





​		



