---
title: 工业机器人基础
typora-root-url: 工业机器人基础
keywords: '工业,机器人'
tags: 机器人
categories: 机器人
description: 工业机器人的基础知识
abbrlink: 870a1cf5
date: 2024-08-15 19:39:26
photos:
---

工业机器人基础

<!--more-->

------

## 自动化设备主要组成

大脑：PLC

左右手：气缸和电机 

**气缸和电机** 都可以实现自动化设备的 **夹取 平移 旋转**

**气缸** 用 气动夹爪，拉杆气缸，回转气缸 实现

**电机** 用 电动夹爪，直线电机，DD马达 实现

## 气缸与电磁阀的工作原理

### 气缸系统：

![img](气缸系统.png)

气缸：

​	组成：腔体，活塞，推杆

​	汽缸是用流体推动活塞

​	分类：

​		单作用气缸

​			单作用气缸，只有一侧气路，气路控制伸出，弹簧控制缩回

​			缺点：行程不大，弹簧还会阻挡气缸伸出

​		双作用气缸

​			双作用气缸，两侧都有气路，一侧气路控制伸出，另一侧控制缩回

​			配合齿轮。齿条，就可以实现伸缩，旋转，开合

#### 电磁阀：

​	作用：控制气缸伸缩/进退

​	先导式的电磁阀主阀芯是气动的，线圈控制的是先导阀阀芯

​	两位五通电磁阀，阀芯的两侧装上磁铁吗，阀体的两侧固定两个线圈，通过plc发出电信号同性相斥，就可以轻松控制电磁阀阀芯

​	![img](两位五通电磁阀工作原理.png)

​	两位五通电磁阀有单双控之分，单控就是把一侧换成弹簧

#### 磁性开关：

​	反馈气缸位置

​	磁簧式磁性开关工作原理：气缸的活塞上会有一个环形磁铁，当活塞到指定位置，磁簧的簧片会磁化吸合，此时LED发光，PLC也会收到电信号

​	![img](磁簧工作原理.png)

​	磁簧是触点式的传感器，还有非触点式的

​	磁簧优点是便宜，缺点是会被高频震动干扰

#### 节流阀：

​	伸缩太慢会影响节拍，伸缩太快会造成机器抖动

通常装在气嘴上，空间窄时会串接在气管上

​	作用：调节气缸运行的速度

​	工作原理：

​	![img](节流阀工作原理.png)

#### 调压阀：

​	气缸压力过小可能会造成机械卡顿，压力过大可能会损坏物料

​	作用：调节气缸压力

​	一般总进气口会有一个三连过滤器，可以控制设备的总气压，单个设备需要控制气压的	话，可以单独加一个调压阀

​	工作原理：

​	![img](调压阀工作原理.png)



#### 三位电磁阀：

​	两位五通阀只能两种状态一种是完全缩回，一种是完全伸出，控制气缸停止的位置，需	要用到三位五通阀，三位五通阀的阀芯两侧各有一个弹簧	可以让弹簧处于中间位置

​	作用：提供更多的工作模式

​	工作原理：	![img](三位五通中封阀工作原理.png)

​	分类：

![img](三位五通阀门分类.png)

#### 气缸故障排查思路

![img](气缸故障排查思路.png)

## 就业方向

### 机器人调试

品牌：

abb等四大家族

fanuc

abb 设计符合人体工学   仿真软件易用性更好

### 视觉工程师

品牌：

康耐士

hoken

## 机器人简介

### 设备模块构成：

```markdown
暂存
快换
立体仓库
	以太网io通讯模块
	使用Modbus-tcp 通讯协议进行通讯
上料
传输带
视觉模块
变位机
装配
RFID
	作用：产品追溯
旋转供料
```



## ABB机器人编程指令

### Set  Reset

Set 指令：设置数字输出信号。

Set 用于将数字输出信号的值设置为 1，即打开数字输出信号

Reset指令：重置数字输出信号。

Reset 用于将数字输出信号的值重置为 0，即关闭数字输出信号

### setdo

SetDO 指令的语法通常是:
SetQ<输出号>,<状态>。
DO数字输出
其中，输出号是指数字输出的编号，状态是指要设置的状态，通常是0或1，分别表示关闭和打开。

### waittime

程序流程指令-WaitTime abb时间单位：s  大多数是毫秒
当前指合只用于机器人等待相应时间后，才执行以后指合,使用参变量[InPos]，机器人及其外轴必须在完全停止的情况下，
才进行等待时间计时,此指合会延长循环时间。

实例：
waitTime 3;
waitTime \InPos ,0 . 5;
waitTime \InPos ,0 ;

### movel的offs功能

偏移指令offs
以选定目标点为基准，沿着选定工件坐标系的X、Y、Z轴方向偏移一定的距离。
movel offs(p1,0,0,5),v10,z5,tool0\wobj=wobj1；


将机器人TCP移动到p1为基准点，沿着wobj1的Z轴正方向偏移5mm。当工件坐标系为默认值wobj0时，偏移指令offs的偏移数据XYZ就相当于大地坐标系。


机器人操作 矩形法则

双信号夹爪  突然断电，夹爪会保持不动



用fine可以预读下一个程序

信号前设置为fine  信号后设置延时

### movel 

movel只要控制轴线性移动

### moveabsj

 控制轴回原点



## 通讯方式

### 开放式用户通信

```markdown
		组态模块：

				通信-->开放式用户通信

						TSend_C：建立连接发送数据

								触发条件：

										REQ："Clock_5Hz"
										CONNECT：使用模块右上角小蓝盒进行组态
										DATA：plc发送给机器人指令数据

						TRCV_C：建立连接接收数据

								触发条件：

										EN_R："AlwaysTRUE"
										CONNECT：使用模块右上角小蓝盒进行组态
										DATA：机器人响应并返回给plc的数据

		注意：机器人与plc的数据是不兼容的需要进行数据的转换，输入/输出进行单独转换

		案例：机器人与PLC通讯交互
```



### MODBUS TCP

```markdown
		组态模块：

				通信-->其他-->Modbus Tcp

				MB_CLIENT：通过PROFINET进行通信，作为客户端

						触发条件：

								REQ："AlwaysTRUE"
								DISCONNECT："AlwaysFALSE"
								MB_MODE：Modbus 的请求模式（读取、写入或诊断）  0：读    1，2：写
								MB_DATA_ADDR：这里对应需要匹配的仓位的起始地址
								MB_DATA_LEN：代表仓位的数量
								MB_DATA_PTR：P#DB4.DBX14.0 BOOL 8 表示哪个db块数据类型和所占存储区容量
								CONNECT ：连接通信协议TCON_IP_v4，一般建立单独db块，数据类型选择
										InterfaceId：默认64
										ID：不重复就可以
										ActiveEstablished：
												主动连接：true，将当前PLC作为TCP通信的客户端
												被动连接：false，将当前PLC作为TCP通信的服务器
										RemoteAddress：表示要连接的设备ip地址
										RemotePort：要连接的设备的端口

				MB_SERVER：通过PROFINET进行通信，作为服务端

		案例：立体仓库
```



### RFID Ident

```markdown
通过硬件通讯：

		组态硬件：

				使用串口硬件 RF_120C RS422进行通信

				对芯片进行读写时Ident设备/系统要选择  通过FB/光学阅读器获取参数

		组态软件：

				Ident工艺对象

						普通阅读器

		组态模块：

				选件包--> SIMATIC Ident（全双工：使用串口RF_120C 422）

						复位块：
								Reset_RF300：错误复位  （根据模块的实际型号选最近的）

										触发条件：

												EXECUTE：使用常开开关+FirstScan进行控制（FirstScan程序启动先执行一次进行复位）
												TAG_TYPE：选择1 ，所有的ISO都可以发送应答（ISO西门子早期的以太网协议）
												RF_POWER：默认
												HW_CONNECT：
														两种连接方式
																TO_IDENT：创建Ident 工艺对象
																IID_HW_CONNECT：	
																		HW_ID：模块RF_120C的硬件标识符
																		LADDR：模块io地址						

						Read:读数据

								触发条件：

										EXECUTE：开关类型
										ADDR_TAG：默认
										LEN_DATA：是具体要读取的数据数组长度和写入长度相同
										HW_CONNECT：连接TO_IDENT工艺对象或者IID_HW_CONNECT
										IDENT_DATA：读取数组的db数据				

						Write:写数据

								触发条件：

										EXECUTE：开关类型
 										ADDR_TAG：默认
 										LEN_DATA：是具体要写入的数据数组长度和读取长度相同
 										HW_CONNECT：连接TO_IDENT工艺对象或者IID_HW_CONNECT
 										IDENT_DATA：写入数组的db数据					

 					

通过MODBUS TCP进行通信
```





### MODBUS (RTU)

```markdown
		组态硬件：

 				使用硬件CM1241进行组态以半双工RS485的方式进行通讯

 		组态模块：

 				通信-->通信处理器-->MODBUS(RTU)

 				Modbus_Comm_Load：组态Modbus 的端口

 						REQ："AlwaysTRUE"
 						BAUD：默认 ，数据传输速率
 						PARITY：默认，奇偶检验
 						FLOW_CTRL：默认，流控制
 						RTS_ON_DLY：50，接通延迟
 						RTS_OFF_DLY：50，关断延迟
 						RESP_TO：默认，响应超时时间
 						MB_DB：Modbus_Master.DB 对 Modbus_Master 或 Modbus_Slave 指令的背景数据块的引用	

 				Modbus_Master：作为主站通讯，写入通讯

 						触发条件：

 								REQ：常闭的写入DONE，写入BUSY，读取DONE，读取BUSY串联，并联常开的写入ERROR+5HZ时钟,并联常开的读取ERROR+5HZ时钟作为使能条件
 								MB_ADDR：一般为1，Modbus RTU 站地址 
 								MODE：1，读取
 								DATA_ADDR：从站中的起始地址，要根据实际设备的写入起始地址决定
 								DATA_LEN：要根据实际设备的写入地址长度决定
 								COM_RST：进行Modbus RTU 的重置
 								DATA_PTR：写入数据块，根据实际设备参数决定

 				Modbus_Master：作为主站通讯， 读取通讯

 						触发条件：

 								REQ：写入DONE作为使能条件，写入操作完成之后才能开始读取
 								MB_ADDR：一般为1，Modbus RTU 站地址 
 								MODE：0，读取
 								DATA_ADDR：从站中的起始地址，要根据实际设备的读取起始地址决定
 								DATA_LEN：要根据实际设备的读取地址长度决定
 								COM_RST：进行Modbus RTU 的重置
 								DATA_PTR：读取数据块，根据实际设备参数决定

 		案例：变位机伺服控制
```



### 工艺-轴控制

```markdown
		组态软件：轴工艺对象

 		组态模块：

 				MC_POWER :轴启动和停止

 						触发条件：

 								Axis：轴对象
 								Enable：常开使能开关
 								StartMode：1，轴位置控制
 								StopMode：0，停止模式

 				MC_RESET: 进行出错重置

 						触发条件：

 								Axis：轴对象
 								Execute：常开使能开关

 				MC_HOME: 回原点

 						触发条件：

 								Axis：轴对象
 								Execute：常开使能开关
 								Position：默认是0，回原点之后轴的相对位置
 								Mode：3,回原点的模式

 				MC_MoveAbsolute:绝对位移

 						触发条件：

 								Axis：轴对象
 								Execute：常开使能开关
 								Position：绝对目标位置，-1.0E12 ≤ Position ≤ 1.0E12
 								Velocity：轴的速度，启动/停止速度 ≤ Velocity ≤ 最大速度
 								Direction：默认是1，轴的运动方向，1是正方向，2是负方向，3是最短距离

 				MC_MoveRelative:相对位移

 						触发条件：
 								Axis：轴对象
 								Execute：常开使能开关
 								Distance：定位操作的移动距离
 								Velocity：轴的速度，启动/停止速度 ≤ Velocity ≤ 最大速度

 				MC_MoveJog:点动

 						触发条件：

 								Axis：轴对象
 								JogForward：常开使能开关，点动正向移动
 								JogBackward：常开使能开关，点动反向移动
 								Velocity：点动预设速度，启动/停止速度 ≤ 速度 ≤ 最大速度
 								PositionControlled：默认true

 				MC_ReadParam:读取轴对象参数比如：实时位置 			

 						触发条件：

 								Enable："AlwaysTRUE"
 								Parameter："轴_1".ActualPosition，获取轴的数据
 								Value：DB中定义的实际位置变量，指向写入所读取值的目标变量或目标地址的 VARIANT 指针

 		案例：旋转供料模块控制
```



### 硬件伺服控制

```markdown
		组态硬件：

 			IS620F-RT伺服

 				+驱动+111报文

 		组态模块：

 				SinaPos:报文111位置控制轴指令

 						触发条件：
 								ModePos：运动方式
 								EnableAxis：常开使能开关
 								CancelTraversing：默认，是否拒绝激活状态的运行作业
 								IntermediateStop：默认，激活状态的运行指令中断
 								Positive：默认，正方向
 								Negative：默认，正方向
 								Jog1：Jog 信号源1，正转
 								Jog2：Jog 信号源2，反转
 								FlyRef：默认，取消主动回原点参考
 								AckError：常开开关，故障应答/故障清除
 								ExecuteMode：常开开关，激活运行作业/接收设定值/激活回参考点功能
 								Position：具体模式执行的位置
 								Velocity：具体模式执行的速度
 								OverV：默认
 								OverAcc：默认
 								OverDec：默认
 								ConfigEPos：一般为16#07
 								HWIDSTW：伺服驱动对象报文
 								HWIDZSW：伺服驱动对象报文

 						响应重要参数：
 								AxisPosOk：使能是否成功状态
 								ActVelocity：当前速度
 								ActPosition：当前位置
 								ActMode：当前处于激活状态的运行模式
 								Error：是否存在故障
 								Status：故障错误码
```

