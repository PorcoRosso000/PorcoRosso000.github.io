<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="西门子PLC通讯基础">
<meta property="og:type" content="article">
<meta property="og:title" content="西门子PLC通讯基础">
<meta property="og:url" content="http://porcorosso.top/posts/eecff6c8.html">
<meta property="og:site_name" content="红猪的博客">
<meta property="og:description" content="西门子PLC通讯基础">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://porcorosso.top/posts/eecff6c8/plc开放式用户通信数据块.png">
<meta property="og:image" content="http://porcorosso.top/posts/eecff6c8/配置8.10主动建立连接.png">
<meta property="og:image" content="http://porcorosso.top/posts/eecff6c8/开放式用户通信数据发送接收数据块.png">
<meta property="og:image" content="http://porcorosso.top/posts/eecff6c8/开放式用户通信8.11配置被动建立连接.png">
<meta property="og:image" content="http://porcorosso.top/posts/eecff6c8/接收端数据块.png">
<meta property="article:published_time" content="2025-11-04T08:39:03.000Z">
<meta property="article:modified_time" content="2025-11-04T09:37:34.763Z">
<meta property="article:author" content="菊子酒">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://porcorosso.top/posts/eecff6c8/plc开放式用户通信数据块.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>西门子PLC通讯基础</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="红猪的博客" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 LTR">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">文档</a></li><!--
     --><!--
       --><li><a href="/Search/">搜索</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="下一篇" href="/posts/d1fd5e19.html"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://porcorosso.top/posts/eecff6c8.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://porcorosso.top/posts/eecff6c8.html&text=西门子PLC通讯基础"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://porcorosso.top/posts/eecff6c8.html&is_video=false&description=西门子PLC通讯基础"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=西门子PLC通讯基础&body=Check out this article: http://porcorosso.top/posts/eecff6c8.html"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://porcorosso.top/posts/eecff6c8.html&name=西门子PLC通讯基础&description=&lt;p&gt;西门子PLC通讯基础&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://porcorosso.top/posts/eecff6c8.html&t=西门子PLC通讯基础"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%AE%AF"><span class="toc-number">1.</span> <span class="toc-text">通讯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#plc%E7%AB%AF%E5%BC%80%E6%94%BE%E5%BC%8F%E7%94%A8%E6%88%B7%E9%80%9A%E4%BF%A1"><span class="toc-number">1.1.</span> <span class="toc-text">plc端开放式用户通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MODBUS-TCP"><span class="toc-number">1.2.</span> <span class="toc-text">MODBUS TCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RFID"><span class="toc-number">1.3.</span> <span class="toc-text">RFID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MODBUS-RTU"><span class="toc-number">1.4.</span> <span class="toc-text">MODBUS (RTU)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E8%89%BA-%E8%BD%B4%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.</span> <span class="toc-text">工艺-轴控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E4%BC%BA%E6%9C%8D%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">硬件伺服控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RS422"><span class="toc-number">1.7.</span> <span class="toc-text">RS422</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RS485"><span class="toc-number">1.8.</span> <span class="toc-text">RS485</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8%E4%BA%86%E4%B8%8D%E5%90%8C%E7%9A%84%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE%EF%BC%8C%E8%BF%99%E4%B8%A4%E8%80%85%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E9%80%9A%E8%AE%AF%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">不同的设备使用了不同的通讯协议，这两者怎么进行通讯？</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        西门子PLC通讯基础
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">菊子酒</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-11-04T08:39:03.000Z" class="dt-published" itemprop="datePublished">2025-11-04</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>西门子PLC通讯基础</p>
<span id="more"></span>

<hr>
<h2 id="通讯"><a href="#通讯" class="headerlink" title="通讯"></a>通讯</h2><h3 id="plc端开放式用户通信"><a href="#plc端开放式用户通信" class="headerlink" title="plc端开放式用户通信"></a>plc端开放式用户通信</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">组态模块：

<span class="token code keyword">		通信-->开放式用户通信（Socket通信）</span>

<span class="token code keyword">				TSend_C：建立连接发送数据</span>

<span class="token code keyword">						触发条件：</span>

<span class="token code keyword">								REQ："Clock_5Hz"
								CONNECT：使用模块右上角小蓝盒进行组态
								DATA：plc发送给机器人指令数据</span>

<span class="token code keyword">				TRCV_C：建立连接接收数据</span>

<span class="token code keyword">						触发条件：</span>

<span class="token code keyword">								EN_R："AlwaysTRUE"
								CONNECT：使用模块右上角小蓝盒进行组态
								DATA：机器人响应并返回给plc的数据</span>

注意：机器人与plc的数据是不兼容的需要进行数据的转换，输入/输出进行单独转换

案例：机器人与PLC通讯交互<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ip8.10plc 创建主动通信块</p>
<p>拉取通信块–&gt;开放式用户通信–&gt;TSEND_C块和TRCV_C块</p>
<img src="/posts/eecff6c8/plc开放式用户通信数据块.png" style="zoom:75%;">

<p>点击小蓝盒配置主动建立连接</p>
<img src="/posts/eecff6c8/配置8.10主动建立连接.png" style="zoom:75%;">

<p>创建开放式用户通信发送数据接收数据</p>
<img src="/posts/eecff6c8/开放式用户通信数据发送接收数据块.png" style="zoom:75%;">

<p>ip8.11plc 创建被动通信块</p>
<p>拉取通信块–&gt;开放式用户通信–&gt;TSEND_C块和TRCV_C块</p>
<p>点击小蓝盒配置建立连接</p>
<img src="/posts/eecff6c8/开放式用户通信8.11配置被动建立连接.png" style="zoom:75%;">

<p>接收端数据块</p>
<img src="/posts/eecff6c8/接收端数据块.png" style="zoom:75%;">

<h3 id="MODBUS-TCP"><a href="#MODBUS-TCP" class="headerlink" title="MODBUS TCP"></a>MODBUS TCP</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">组态模块：

<span class="token code keyword">		通信-->其他-->Modbus Tcp</span>

<span class="token code keyword">		MB_CLIENT：通过PROFINET进行通信，作为客户端</span>

<span class="token code keyword">				触发条件：</span>

<span class="token code keyword">						REQ："AlwaysTRUE"
						DISCONNECT："AlwaysFALSE"
						MB_MODE：Modbus 的请求模式（读取、写入或诊断）  0：读    1，2：写
						MB_DATA_ADDR：这里对应需要匹配的仓位的起始地址
						MB_DATA_LEN：代表仓位的数量
						MB_DATA_PTR：P#DB4.DBX14.0 BOOL 8 表示哪个db块数据类型和所占存储区容量
						CONNECT ：连接通信协议TCON_IP_v4，一般建立单独db块，数据类型选择
								InterfaceId：默认64
								ID：不重复就可以
								ActiveEstablished：
										主动连接：true，将当前PLC作为TCP通信的客户端
										被动连接：false，将当前PLC作为TCP通信的服务器
								RemoteAddress：表示要连接的设备ip地址
								RemotePort：要连接的设备的端口</span>

<span class="token code keyword">		MB_SERVER：通过PROFINET进行通信，作为服务端</span>

案例：立体仓库<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="RFID"><a href="#RFID" class="headerlink" title="RFID"></a>RFID</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">通过硬件通讯：

<span class="token code keyword">		组态硬件：</span>

<span class="token code keyword">				使用串口硬件 RF_120C RS422进行通信</span>

<span class="token code keyword">				对芯片进行读写时Ident设备/系统要选择  通过FB/光学阅读器获取参数</span>

<span class="token code keyword">		组态软件：</span>

<span class="token code keyword">				Ident工艺对象</span>

<span class="token code keyword">						普通阅读器</span>

<span class="token code keyword">		组态模块：</span>

<span class="token code keyword">				选件包--> SIMATIC Ident（全双工：使用串口RF_120C 422）</span>

<span class="token code keyword">						复位块：
								Reset_RF300：错误复位  （根据模块的实际型号选最近的）</span>

<span class="token code keyword">										触发条件：</span>

<span class="token code keyword">												EXECUTE：使用常开开关+FirstScan进行控制（FirstScan程序启动先执行一次进行复位）
												TAG_TYPE：选择1 ，所有的ISO都可以发送应答（ISO西门子早期的以太网协议）
												RF_POWER：默认
												HW_CONNECT：
														两种连接方式
																TO_IDENT：创建Ident 工艺对象
																IID_HW_CONNECT：	
																		HW_ID：模块RF_120C的硬件标识符
																		LADDR：模块io地址						</span>

<span class="token code keyword">						Read:读数据</span>

<span class="token code keyword">								触发条件：</span>

<span class="token code keyword">										EXECUTE：开关类型
										ADDR_TAG：默认
										LEN_DATA：是具体要读取的数据数组长度和写入长度相同
										HW_CONNECT：连接TO_IDENT工艺对象或者IID_HW_CONNECT
										IDENT_DATA：读取数组的db数据				</span>

<span class="token code keyword">						Write:写数据</span>

<span class="token code keyword">								触发条件：</span>

<span class="token code keyword">										EXECUTE：开关类型</span>
 										ADDR_TAG：默认
 										LEN_DATA：是具体要写入的数据数组长度和读取长度相同
 										HW_CONNECT：连接TO_IDENT工艺对象或者IID_HW_CONNECT
 										IDENT_DATA：写入数组的db数据					
		注意：
 		读写器一次一般只能执行112BYTE 根据芯片来决定
		

通过MODBUS TCP进行通信
		
<span class="token code keyword">		组态模块：
			
				通信-->其他-->Modbus Tcp
				
					使用MB_CLIENT的两个同名DB块（因为走一个协议所以应该是一个通道 用同一个db块）
						
						触发条件：
							写：
								REQ："AlwaysTRUE"或者做一个开关
								MB_MODE：1
								MB_DATA_ADDR：根据具体的读写器地址来决定，写和读，一致 例：40015
								CONNECT ：写和读使用同一个协议
								
							读：
								REQ：做一个开关
								MB_MODE：0
								MB_DATA_ADDR：根据具体的读写器地址来决定，写和读，一致 例：40015
								CONNECT ：写和读使用同一个协议
				
				
		报错：
		80A3:看读模式的块和写模式的块的名称是否不同，不同的db块会产生两个不同的通道，一个通讯协议不能在两个不同通道进行数据交换
		8383:看数据的长度和类型，国产的一般可以用INT进行通讯，可以将读取/写入的array数组改成INT数据类型，一般常见最长的长度是112个BYTE，也就是56个INT
		40011-40015 这四位是系统常数 总共是11位  前四位可以不读，所以可以写成40015 7位</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>Modbus协议的数据模型和地址模型</strong></p>
<p><strong>数据模型</strong>是对从站设备可访问的数据进行抽象，Modbus协议的数据模型定义了四种可访问的数据，为了简化数据模型与设备存储区的对应关系，又引入了<strong>地址模型</strong>的概念，通过编号的方式对不同类型数据进行区分，也就是通过特定的编号作为前缀加到所讨论的数据地址中。如表中所示，通过0,1,3,4分别表示线圈，离散量输入，输入寄存器，和保持寄存器。</p>
<table>
<thead>
<tr>
<th>地址前缀编号</th>
<th>编号范围(1~65536)</th>
<th>编号范围(1~9999)</th>
<th>数据区块</th>
<th><strong>数据</strong>类型</th>
<th>访问类型</th>
</tr>
</thead>
<tbody><tr>
<td><strong>0</strong></td>
<td>000001~065536</td>
<td>00001~09999</td>
<td>线圈(Coils)</td>
<td>布尔</td>
<td>读/写</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>100001~165536</td>
<td>10001~19999</td>
<td>离散量输入(Discrete Input)</td>
<td>布尔</td>
<td>只读</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>300001~365536</td>
<td>30001~39999</td>
<td>输入寄存器(Input registers)</td>
<td>无符号2字节整型</td>
<td>只读</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>400001~465536</td>
<td>40001~49999</td>
<td>保持寄存器(Holding registers)</td>
<td>无符号2字节整型</td>
<td>读/写</td>
</tr>
</tbody></table>
<p>理论上，</p>
<p>线圈地址范围：000001~065536</p>
<p>离散量输入地址范围：100001~165536</p>
<p>输入寄存器地址范围：300001~365536</p>
<p>保持寄存器地址范围：400001~465536</p>
<p>由于65536是比较大的数值，实际应用一般不需要这么大的存储区，因此设备厂家普遍采用的是10000以内的地址范围，即：</p>
<p>线圈地址范围：00001~09999</p>
<p>离散量输入地址范围：10001~19999</p>
<p>输入寄存器地址范围：30001~39999</p>
<p>保持寄存器地址范围：40001~49999</p>
<p>有了该地址模型，我们就可以从Modbus寄存器的地址判断要访问的区块的类型。</p>
<h3 id="MODBUS-RTU"><a href="#MODBUS-RTU" class="headerlink" title="MODBUS (RTU)"></a>MODBUS (RTU)</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">组态硬件：

<span class="token code keyword">			使用硬件CM1241进行组态以半双工RS485/232的方式进行通讯</span>

<span class="token code keyword">	组态模块：</span>

<span class="token code keyword">			通信-->通信处理器-->MODBUS(RTU)</span>

<span class="token code keyword">			Modbus_Comm_Load：组态Modbus 的端口</span>

<span class="token code keyword">					REQ："AlwaysTRUE"
					BAUD：默认 ，数据传输速率
					PARITY：默认，奇偶检验
					FLOW_CTRL：默认，流控制
					RTS_ON_DLY：50，接通延迟
					RTS_OFF_DLY：50，关断延迟
					RESP_TO：默认，响应超时时间
					MB_DB：Modbus_Master.DB 对 Modbus_Master 或 Modbus_Slave 指令的背景数据块的引用	</span>

<span class="token code keyword">			Modbus_Master：作为主站通讯，写入通讯</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							REQ：常闭的写入DONE，写入BUSY，读取DONE，读取BUSY串联，并联常开的写入ERROR+5HZ时钟,并联常开的读取ERROR+5HZ时钟作为使能条件
							MB_ADDR：一般为1，Modbus RTU 站地址 
							MODE：1，读取
							DATA_ADDR：从站中的起始地址，要根据实际设备的写入起始地址决定
							DATA_LEN：要根据实际设备的写入地址长度决定
							COM_RST：进行Modbus RTU 的重置
							DATA_PTR：写入数据块，根据实际设备参数决定</span>

<span class="token code keyword">			Modbus_Master：作为主站通讯， 读取通讯</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							REQ：写入DONE作为使能条件，写入操作完成之后才能开始读取
							MB_ADDR：一般为1，Modbus RTU 站地址 
							MODE：0，读取
							DATA_ADDR：从站中的起始地址，要根据实际设备的读取起始地址决定
							DATA_LEN：要根据实际设备的读取地址长度决定
							COM_RST：进行Modbus RTU 的重置
							DATA_PTR：读取数据块，根据实际设备参数决定</span>

<span class="token code keyword">	案例：变位机伺服控制</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="工艺-轴控制"><a href="#工艺-轴控制" class="headerlink" title="工艺-轴控制"></a>工艺-轴控制</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">组态软件：轴工艺对象

<span class="token code keyword">	组态模块：</span>

<span class="token code keyword">			MC_POWER :轴启动和停止</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Axis：轴对象
							Enable：常开使能开关
							StartMode：1，轴位置控制
							StopMode：0，停止模式</span>

<span class="token code keyword">			MC_RESET: 进行出错重置</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Axis：轴对象
							Execute：常开使能开关</span>

<span class="token code keyword">			MC_HOME: 回原点</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Axis：轴对象
							Execute：常开使能开关
							Position：默认是0，回原点之后轴的相对位置
							Mode：3,回原点的模式</span>

<span class="token code keyword">			MC_MoveAbsolute:绝对位移</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Axis：轴对象
							Execute：常开使能开关
							Position：绝对目标位置，-1.0E12 ≤ Position ≤ 1.0E12
							Velocity：轴的速度，启动/停止速度 ≤ Velocity ≤ 最大速度
							Direction：默认是1，轴的运动方向，1是正方向，2是负方向，3是最短距离</span>

<span class="token code keyword">			MC_MoveRelative:相对位移</span>

<span class="token code keyword">					触发条件：
							Axis：轴对象
							Execute：常开使能开关
							Distance：定位操作的移动距离
							Velocity：轴的速度，启动/停止速度 ≤ Velocity ≤ 最大速度</span>

<span class="token code keyword">			MC_MoveJog:点动</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Axis：轴对象
							JogForward：常开使能开关，点动正向移动
							JogBackward：常开使能开关，点动反向移动
							Velocity：点动预设速度，启动/停止速度 ≤ 速度 ≤ 最大速度
							PositionControlled：默认true</span>

<span class="token code keyword">			MC_ReadParam:读取轴对象参数比如：实时位置 			</span>

<span class="token code keyword">					触发条件：</span>

<span class="token code keyword">							Enable："AlwaysTRUE"
							Parameter："轴_1".ActualPosition，获取轴的数据
							Value：DB中定义的实际位置变量，指向写入所读取值的目标变量或目标地址的 VARIANT 指针</span>

<span class="token code keyword">	案例：旋转供料模块控制</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="硬件伺服控制"><a href="#硬件伺服控制" class="headerlink" title="硬件伺服控制"></a>硬件伺服控制</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">组态硬件：

<span class="token code keyword">		IS620F-RT伺服</span>

<span class="token code keyword">			+驱动+111报文</span>

<span class="token code keyword">	组态模块：</span>

<span class="token code keyword">			SinaPos:报文111位置控制轴指令</span>

<span class="token code keyword">					触发条件：
							ModePos：运动方式
							EnableAxis：常开使能开关
							CancelTraversing：默认，是否拒绝激活状态的运行作业
							IntermediateStop：默认，激活状态的运行指令中断
							Positive：默认，正方向
							Negative：默认，正方向
							Jog1：Jog 信号源1，正转
							Jog2：Jog 信号源2，反转
							FlyRef：默认，取消主动回原点参考
							AckError：常开开关，故障应答/故障清除
							ExecuteMode：常开开关，激活运行作业/接收设定值/激活回参考点功能
							Position：具体模式执行的位置
							Velocity：具体模式执行的速度
							OverV：默认
							OverAcc：默认
							OverDec：默认
							ConfigEPos：一般为16#07
							HWIDSTW：伺服驱动对象报文
							HWIDZSW：伺服驱动对象报文</span>

<span class="token code keyword">					响应重要参数：
							AxisPosOk：使能是否成功状态
							ActVelocity：当前速度
							ActPosition：当前位置
							ActMode：当前处于激活状态的运行模式
							Error：是否存在故障
							Status：故障错误码</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="RS422"><a href="#RS422" class="headerlink" title="RS422"></a>RS422</h3><p>422全双工 读写可以同时进行<br>        全双工（Full Duplex）通信允许数据在两个方向上同时传输，它在能力上相当于两个单工通信方式的结合。全双工指可以同时（瞬时）进行信号的双向传输（A→B且B→A）。指A→B的同时B→A，是瞬时同步的。</p>
<h3 id="RS485"><a href="#RS485" class="headerlink" title="RS485"></a>RS485</h3><p>通信模式</p>
<p>485半双工  只读或者只写，通信线路上的数据只能单向传输<br>半双工（Half Duplex）数据传输指数据可以在一个信号载体的两个方向上传输，但是不能同时传输。            RS485是串行数据传输的标准，主要用于多点通信，使用差分信号进行数据传输，也就是通过两根通信线之间的电压差表示传递的信号，一般采用主从的通讯模式，主站发送数据，从站接收数据，上传数据</p>
<p>电气特性</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">逻辑电平：逻辑1表示电压在+2<span class="token strike"><span class="token punctuation">~</span><span class="token content">+6v之间，逻辑0表示电压在-2</span><span class="token punctuation">~</span></span>-6v之间<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>网络拓扑和节点数量</p>
<p>RS485总线，一条总线将各个节点串联起来，一般情况下可以接32个节点</p>
<h3 id="不同的设备使用了不同的通讯协议，这两者怎么进行通讯？"><a href="#不同的设备使用了不同的通讯协议，这两者怎么进行通讯？" class="headerlink" title="不同的设备使用了不同的通讯协议，这两者怎么进行通讯？"></a>不同的设备使用了不同的通讯协议，这两者怎么进行通讯？</h3><p>1.使用网关或者协议转换器</p>
<p> 网口 <strong>MODBUS TCP</strong> 转  串口<strong>MODBUS (RTU)</strong>    使用 <strong>串口服务器</strong></p>
<p><strong>Profinet</strong>转<strong>MODBUS (RTU)</strong>  协议需要使用  <strong>Profinet 转 MODBUS (RTU) 网关</strong></p>
<p><strong>MODBUS (RTU)</strong> 转<strong>EtherCAT</strong> 需要使用<strong>RS485转EtherCAT网关</strong></p>
<p>2.将有线的转为无线的网关</p>
<p>串口转Lora</p>
<p>串口转RF(无线射频)</p>
<p>串口转MQTT（MQTT可以连接到云平台，云平台可以连接不同类型的设备，方便远程监控和管理）</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/archives/">文档</a></li>
        
          <li><a href="/Search/">搜索</a></li>
        
          <li><a href="/about/">关于</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%AE%AF"><span class="toc-number">1.</span> <span class="toc-text">通讯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#plc%E7%AB%AF%E5%BC%80%E6%94%BE%E5%BC%8F%E7%94%A8%E6%88%B7%E9%80%9A%E4%BF%A1"><span class="toc-number">1.1.</span> <span class="toc-text">plc端开放式用户通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MODBUS-TCP"><span class="toc-number">1.2.</span> <span class="toc-text">MODBUS TCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RFID"><span class="toc-number">1.3.</span> <span class="toc-text">RFID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MODBUS-RTU"><span class="toc-number">1.4.</span> <span class="toc-text">MODBUS (RTU)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E8%89%BA-%E8%BD%B4%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.</span> <span class="toc-text">工艺-轴控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E4%BC%BA%E6%9C%8D%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">硬件伺服控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RS422"><span class="toc-number">1.7.</span> <span class="toc-text">RS422</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RS485"><span class="toc-number">1.8.</span> <span class="toc-text">RS485</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8%E4%BA%86%E4%B8%8D%E5%90%8C%E7%9A%84%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE%EF%BC%8C%E8%BF%99%E4%B8%A4%E8%80%85%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E9%80%9A%E8%AE%AF%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">不同的设备使用了不同的通讯协议，这两者怎么进行通讯？</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://porcorosso.top/posts/eecff6c8.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://porcorosso.top/posts/eecff6c8.html&text=西门子PLC通讯基础"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://porcorosso.top/posts/eecff6c8.html&is_video=false&description=西门子PLC通讯基础"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=西门子PLC通讯基础&body=Check out this article: http://porcorosso.top/posts/eecff6c8.html"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://porcorosso.top/posts/eecff6c8.html&title=西门子PLC通讯基础"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://porcorosso.top/posts/eecff6c8.html&name=西门子PLC通讯基础&description=&lt;p&gt;西门子PLC通讯基础&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://porcorosso.top/posts/eecff6c8.html&t=西门子PLC通讯基础"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    菊子酒
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">文档</a></li><!--
     --><!--
       --><li><a href="/Search/">搜索</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
